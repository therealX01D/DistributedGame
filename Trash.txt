
# Create a WebSocket instance and connect to the server
# listener = keyboard.Listener(
#     on_press=on_press,
#     )
# listener.start()
print("RECONNECTING")
#IMPORTANT : here
#     ws = websocket.WebSocketApp(server,
#                                 on_open=on_open,
#                                 on_message=on_message,
#                                 on_error=on_error,
#                                 on_close=on_close)
#
#     # Start the WebSocket connection
#
#     ws.run_forever(dispatcher=rel,
#                    reconnect=0.5)  # Set dispatcher to automatic reconnection, 0.5 second reconnect delay if connection closed unexpectedly
#
#END IMP


##
# async def main(future):
#     ws = websocket.WebSocketApp(server,
#                                 on_open=on_open,
#                                 on_message=on_message,
#                                 on_error=on_error,
#                                 on_close=on_close)
#
#     # Start the WebSocket connection
#
#     ws.run_forever(dispatcher=rel,
#                    reconnect=0.5)  # Set dispatcher to automatic reconnection, 0.5 second reconnect delay if connection closed unexpectedly
#



def send_message(ws):
#     # message = input("Enter a message to send: ")#
#     #send user movement
#     # while 1:
#     print("READY , Sending movements")
#
#     # message = getButtons()
#     #Key = getButtons()
#     movement = json.dumps({"movement":message})
#     print("MOVEMENT : ",type(movement),"->" , movement)
#
#     ws.send(movement)